<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta name="renderer" content="webkit"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>State Grid extranet mail</title>
<meta name="description" content="亿榕电子邮件系统">
<meta name="keywords" content="企业邮件，亿榕企业邮件">
<style>
input::-webkit-input-placeholder{color:#999;}
input::-moz-placeholder{color:#999;}
input:-ms-input-placeholder{color:#999;}
input:placeholder{color:#999;}
*{ margin:0; padding:0}
body{ font-family:"微软雅黑",Verdana, Geneva, sans-serif; font-size:12px; background:#fff;min-width:1100px;}
.t{ height:76px; line-height:90px; background:#f5f5f5; overflow:hidden;}
a{ outline:none}
.h{ width:100%; margin:0 auto;}
.logo{ padding-top:7px; float:left;margin-left:70px;}
.help{ float:right; font-size:14px; font-weight:700; color:#787878; text-decoration:none;margin-right:70px;background:url(https://mail.sgcc.com.cn/tpl/login/user/images/help.png) no-repeat left center;padding-left:20px;}
.help:hover{ text-decoration:underline}

.c{min-height: 550px;overflow: auto; width:100%;background:#6ADBD7 url(https://mail.sgcc.com.cn/tpl/login/user/images/bgimg.png) no-repeat 30% center; position:relative;background-size:cover;}
.b{ height:90px;background:#f5f5f5; clear:both; width:100%; text-align:center; line-height:90px; color:#333;font-size:14px;}
ul{ list-style:none}

.box{ width:400px;position:absolute;border-radius:4px; background:#fff;}
.text_item{height:46px; line-height:46px; width:325px; margin:15px auto 30px;}
.text_item1 { position:relative;} 
input.sms_input { width: 155px;height: 46px;line-height: 46px;outline: none;font-size: 20px;border: 1px solid #aaa;background: #fbfbfb;border-radius: 2px;padding: 0 20px 0 5px;}
.sms_login { position: absolute;right: 0;top: 0;width: 130px;background-color: #e6e6e6;text-align: center;height: 46px;cursor: pointer;color: #333;font-size: 14px;font-family: 微软雅黑;border: 1px solid #c7c7c7;}
.sms_disabled { color: #999; cursor:default; background:#dedede;}

.text{ height:46px; line-height:46px;outline:none; color:#999;font-size:16px;width:100%;border:1px solid #aaa; background:#fbfbfb; border-radius:4px; padding:0 5px 0 38px; box-sizing:border-box;}
.bl{color: #999;width: 83%;overflow: hidden;position: relative;top: -13px;font-size: 14px; margin: 0 auto;}
.bl a{ color:#999; text-decoration:none}
.bl a:hover{ color:#333; text-decoration:underline;}
.bl input{ position:relative; top:2px; opacity:0.7;}

.tab{overflow:hidden; height:62px; background:url(/tpl/login/user/images/nav_bg.png) repeat-x; position:relative;}

.tab li{ height:62px; line-height:62px; float:left; width:400px; text-align:center; font-size:20px; cursor:pointer; color:#333;  font-weight:bold;}
.tab li.current{ color:#3b78dd;}
.tab li.dragbar{ width:20px; background:url(/tpl/login/user/images/dragbar.png); cursor:move}
.tab span { text-align:center; position:absolute;left: 50%;font-size: 20px;top: 50%;margin: -13px 0;color: #b5b5b5;}

.boxc{ background:#fff;margin-top:40px;}
.pop{ border:1px solid #0167ff; position:absolute; width:321px; background:#fff; border-top:none;z-index:100; border-radius:0 0 2px 2px; box-shadow:0 2px 3px rgba(0,0,0,0.4); left:39px; top:148px; z-index:1000;max-height: 270px;overflow: auto;}
.pop a{ overflow:hidden;display:block; height:34px; line-height:34px; font-size:14px; color:#666; margin:0 5px; font-weight:700; text-decoration:none;}
.pop p:hover{ background:#f6f6f6}
.pop p:first-child a{ border-top:1px dotted #eee;}
.pop p.first{ color:#000; background:#b5c6e6;}

.fp{ position:absolute; right:0; top:-14px; line-height:12px; text-decoration:none; color:#333}
.fp:hover{ text-decoration:underlined; color:#333}
.yzm{ float:right; display:block; height:38px; background:#eee; width:135px;}
.yzmbox{ height: 46px;width: 130px;background: #eee;float: right;margin-right: 78px;}
a.zc{ font-weight:700; color:#f60}
a.zc:hover{color:#f60}
.showpassword{ position:absolute; height:18px; line-height:18px; right:-1px; top:38px; background:#bac5d4; color:#fff; padding:0 3px;}
.showpassword input{ position:relative; top:2px;}
.btnb{margin:0px 0 0 40px; width:400px; position:relative;}
.btnb a{ float:right; color:#787878; text-decoration:none;}
.btnb a:hover{ text-decoration:underline;}
.btn{ height: 46px;width: 325px;border: none;color: #fff;font-weight: 400;background: #3b78dd;font-size: 20px;font-family: "微软雅黑";border-radius: 4px;margin: 0 0 25px;display: block;float:none!important;}
.btn:hover{ background-position:0 -38px;}
h3{ text-align:; font-size:16px; padding-right:42px;display:none;}
.blt{ float:right;}
.msg{ position:absolute; background:#cc3300; color:#fff; padding:0 10px; font-size:14px; top:63px; height:30px; line-height:30px; left:42px; right:42px; text-align:center}


.f{ position:absolute;bottom:56px;background:url(/tpl/login/user/images/wbg.png); _background:#fff;height:80px; padding:5px 20px;}
.fl{ float:left; height:80px; width:80px; margin-right:10px;}
.fr{ float:left; height:80px; width:320px; padding-left:10px;}
.fr a{ line-height:20px; display:block; width:320px; overflow:hidden; height:20px; color:#333; text-decoration:none; background:url(/tpl/login/user/images/login_dot.jpg) left center no-repeat; padding-left:5px;}

.login_drag{ display:none; position:absolute; width:374px; height:342px; top:60px; left:60px; border:1px dotted #000; zoom:1; background:url(/tpl/login/user/images/dragbg.png); _background:none;}

.pushbox{ height:344px; width:400px; position:absolute; z-index:10}
b.epicon{ display:block; height:43px; width:43px; background:url(/tpl/login/user/images/ep_icon.png) no-repeat; cursor:pointer}
b.epicon:hover{ background-position:0 -43px;}
.epush{ padding-top:70px;}
.epic{ float:left;}

.dtab{ height:22px; padding-bottom:1px; background:url(/tpl/login/user/images/t50w.png) repeat-x 0 22px; margin-top:25px;}
.dtab a{ display:block; float:left; margin-right:10px; height:22px; line-height:22px; padding:0 15px; text-decoration:none; color:#fff; text-shadow:0 1px 1px rgba(0,0,0,0.5)}
.dtab a.current,.dtab a:hover{ background:url(/tpl/login/user/images/t50w.png); border-radius:3px 3px 0 0; box-shadow:1px -1px 1px rgba(0,0,0,0.2)}
.dbox > div{ display:block; float:left; margin:13px 15px 0 0; height:25px; line-height:25px;padding:0 20px; border-radius:2px; text-decoration:none; color:#fff; cursor:pointer}
.dbox > div > a{ color:#fff; text-decoration:none;}
.d_desk{ background:url(/tpl/login/user/images/dbg.png) 0 0 repeat-x;}
.d_stor{ background:url(/tpl/login/user/images/dbg.png) 0 -25px repeat-x;}
.d_code{ background:url(/tpl/login/user/images/dbg.png) 0 -50px repeat-x; position:relative}
.dbox > div:hover{ box-shadow:0 0 3px rgba(0,0,0,0.5)}
.divcode{ position:absolute; width:122px; left:-22px; display:none;}
.arrt{ position:absolute; left:90px; top:0; background:url(/tpl/login/user/images/arrt.png);width:13px; height:7px;}
.codec{ background:#fff; width:120px;position:absolute; top:6px; z-index:-1; border:1px solid #dadada; border-radius:3px; box-shadow:2px 2px 2px rgba(0,0,0,0.3)}
.codec p{ color:#666; padding:5px 10px 0; line-height:160%; width:100px;}
.ewm{ padding:5px 10px 10px 10px;}
.d_code:hover .divcode{ display:block;}
.text_f{ text-indent:28px;height:36px; line-height:36px;outline:none; font-size:20px;width:280px; padding:0 5px;border:1px solid #0167ff; background:#fff; border-radius:2px; box-shadow:0 0 3px rgba(0,0,0,0.4); font-family:"微软雅黑"}
.text_f1{ height:36px; line-height:36px;outline:none; font-size:20px;width:133px; padding:0 20px 0 5px;border:1px solid #0167ff; background:#fff; border-radius:2px; box-shadow:0 0 3px rgba(0,0,0,0.4); font-family:"微软雅黑"}
input.user { background:#fbfbfb url(https://mail.sgcc.com.cn/tpl/login/user/images/user.png) no-repeat 8px center;}
input.code { background:#fbfbfb url(https://mail.sgcc.com.cn/tpl/login/user/images/code.png) no-repeat 8px center;}
.nav {width:325px;margin:0 auto 20px;}
.nav a {display:inline-block; height:90px;width:32%;text-align: center;padding-top: 60px;box-sizing: border-box; vertical-align:bottom;text-decoration: none;color: #000;} 
.nav a.windows { background:url(https://mail.sgcc.com.cn/tpl/login/user/images/windows.png) no-repeat top; }
.nav a.android { background:url(https://mail.sgcc.com.cn/tpl/login/user/images/android.png) no-repeat 30px 6px; line-height:30px;}
.nav a.ios { background:url(https://mail.sgcc.com.cn/tpl/login/user/images/ios.png) no-repeat 36px 6px;line-height:30px; }
hr { width: 325px;text-align: center;height: 1px;background: #dcdcdc;border: none; margin: 0 auto 0px;}
.download { margin:0 auto; height:68px; width:100%; position:relative;}
.download p { font-size:14px;color:#333; font-weight:bold; float:left; margin:20px 0 0 38px;}
.download_img { display:block; width:66px; height:68px; float:right; background:url(https://mail.sgcc.com.cn/tpl/login/user/images/download_img.png) no-repeat; margin-right:10px;}
.down_msg { position:absolute; right:70px;top:22px; padding:5px 10px; color:#333; font-size:14px; background:#fdfbeb; border:1px solid #eda62b; border-radius:4px;  display:none;}
.down_msg span { position:absolute; width:9px; height:11px; background:url(https://mail.sgcc.com.cn/tpl/login/user/images/arrow_right.png) no-repeat; top:8px; right:-9px;}
.download:hover .down_msg{ display:block; }
</style>

<!-- 登录界面普通处理开始 -->
<script type="text/javascript" src="https://mail.sgcc.com.cn/tpl/public/js/eele.js"></script>
<script type="text/javascript" src="https://mail.sgcc.com.cn/tpl/public/js/common.js"></script>
<script type="text/javascript" src="https://mail.sgcc.com.cn/tpl/public/js/url_control.js"></script>
<script type="text/javascript">

// {{{ members
eele.include('event');
eele.include('base64');
eele.include('utils');
eele.include('dom');
var gUrlPrefix = '/';
var isCaptcha = 2;
var code = 0;

var gHasOpenid = 0;
var gHasSecureMail = 1;
//自动完成匹配用的域名列表
var domainList = [];

// 微信的相关配置
var wxQrcodeScanTime = 2500;
var wxQrcodeScanStop = false;
var wxQrcodeScanTryNum = 0;
var wxQrcodeScanTryMaxNum = 10;
var gWxQrcodeId = '';
var wxScanTimeOut = null;

//引入系统配置里面的域列表信息,合并到自动完成的域里面里面。
domainList = (["seri.epri.sgcc.com.cn","sgga.sgcc.com.cn","sgcc.com.cn","test.com","cet.sgcc.com.cn","sgecs.sgcc.com.cn","ydfut.sgcc.com.cn","xj.sgcc.com.cn","sc.sgcc.com.cn","hb.sgcc.com.cn","ah.sgcc.com.cn","jibei.sgcc.com.cn","ydzq.sgcc.com.cn","sgepri.sgcc.com.cn","caib.sgcc.com.cn","ydpic.sgcc.com.cn","mi.sgcc.com.cn","geiri.sgcc.com.cn","evs.sgcc.com.cn","ec.sgcc.com.cn","zj.sgcc.com.cn","sgxy.sgcc.com.cn","ne.sgcc.com.cn","cpfc.sgcc.com.cn","nw.sgcc.com.cn","tj.sgcc.com.cn","sh.sgcc.com.cn","sn.sgcc.com.cn","ydthlife.sgcc.com.cn","sx.sgcc.com.cn","yditc.sgcc.com.cn","sd.sgcc.com.cn","qh.sgcc.com.cn","cq.sgcc.com.cn","xz.sgcc.com.cn","sgm.sgcc.com.cn","sgil.sgcc.com.cn","nx.sgcc.com.cn","ln.sgcc.com.cn","md.sgcc.com.cn","jx.sgcc.com.cn","js.sgcc.com.cn","jl.sgcc.com.cn","cc.sgcc.com.cn","hn.sgcc.com.cn","hl.sgcc.com.cn","chinasperi.sgcc.com.cn","sgtc.sgcc.com.cn","sgoi.sgcc.com.cn","sgid.sgcc.com.cn","atc.sgcc.com.cn","ha.sgcc.com.cn","he.sgcc.com.cn","bj.sgcc.com.cn","sgdt.sgcc.com.cn","sgeri.sgcc.com.cn","gs.sgcc.com.cn","fj.sgcc.com.cn","sgchip.sgcc.com.cn","sw.sgcc.com.cn","nc.sgcc.com.cn","sgitg.sgcc.com.cn","epri.sgcc.com.cn","test.eyou.net"]).concat(domainList);

var gLockInfo = "";var gLockInfoUser = "";var gSysMfa  = 1;
var gStorage = window.localStorage;
var gDefaultDomain = "sgcc.com.cn";
// }}} end members

// {{{ 错误码
var msgTpl = {
    1 : "您填写的用户名或密码错误。",
    2 : "您帐户所在的域已经过期。", 
    3 : "您的帐户已经过期。",
    4 : "您的帐户已经被锁定。",
    5 : "验证码已经过期，请重新输入。",
    6 : "您填写的验证码错误，请重新输入。",
    7 : "模板配置错误。",
    8 : "该用户不允许别名登录。",
    9 : "重试次数太多，用户被锁定，" + gLockInfoUser + "分钟后再试。",
    10 : "重试次数太多，IP被锁定，" + gLockInfo + "分钟后再试。", 
    11 : "无效用户,不允许登录",
    12 : "请插入Usbkey或者Usbkey认证失败",
    13 : "手机尚未绑定",
    14 : "手机动态密码过期",
    15 : "手机动态密码不正确",
    16 : "您的 IP 被限制登录",
    1001 : "用户名或密码错误,认证失败",
    1004 : "不允许帐号密码认证，请联系管理员",
    2010 : "认证信息过期，请重新登录",
    9005 : "此设备类型不允许登录"
};
// }}}

// {{{ function showMsgCode()
/**
 * 显示提示
 * @param max c
 * @return void
 */
var showMsgCode = function(c) {
    c = c-0;

    if (c == 4 || c == 9 || c == 10) {
        document.getElementById('unlock_petition').style.display = '';
    } else {
        document.getElementById('unlock_petition').style.display = 'none';
    }


    if (c === 0) {
        showMsg();
    } else if (msgTpl[c]) {
        showMsg(msgTpl[c]);
    } else {
        showMsg(msgTpl[1]);
    }
}
// }}}
// {{{ function showMsg()

/**
 * 显示信息提示框
 * @param string msg
 * @return void
 */
var showMsg = function(msg) {
    if (typeof(msg) == 'undefined') {
        document.getElementById('msg').style.display = 'none';
    } else {
        document.getElementById('msg').innerHTML = msg;
        document.getElementById('msg').style.display = '';
    }
}
// }}}// {{{ function getLoginTo()
var getLoginTo = function() {
    return getCookie('emLoginTo');
}
// }}}
// {{{ function setCookie()
var setCookie = function(k, v) {
    document.cookie = k + '=' + encodeURIComponent(v) + ' ;expires=' + (new Date(
                (new Date()).getTime() + 180*24*3600*1000
                )).toGMTString() + ' ;path=/';
}
// }}}
// {{{ function getCookie()
var getCookie = function(k) {
    var cookieStr = document.cookie;
    if (cookieStr != "") {
        var cookieArr = cookieStr.split(';');
        var everyCookie, cookieKey, cookieValue, splitPos;
        for (i=0; i<cookieArr.length; i++) {
            everyCookie = cookieArr[i].replace(/(^\s*)|(\s*$)/g, '');
            if (everyCookie != "") {
                splitPos = everyCookie.indexOf('=');
                if (splitPos == -1) continue;
                cookieKey = everyCookie.substr(0, splitPos);
                cookieValue = everyCookie.substr(splitPos+1);

                if (cookieKey === k) {
                    return decodeURIComponent(cookieValue);
                }
            }
        }
    }

    return '';
}
// }}}
// {{{ function setLoginTo()
var setLoginTo = function(loginTo) {
    setCookie('emLoginTo', loginTo);
}
// }}}
// {{{ function tabClick()
var tabClick = function(tab, notClear) {
    notClear = !!notClear;
    if (!notClear) {
        showMsg(); 
    }

    if (wxScanTimeOut) { 
        clearTimeout(wxScanTimeOut);
    }

    var c = tab.className;
    var liList = tab.parentNode.getElementsByTagName('li');
    for (var i=liList.length-2; i>=0; i--) {
        liList[i].className = '';
        g('tab_' + liList[i].id).style.display = "none";
    }

    setLoginTo(tab.id);
    tab.className = 'current';
    g('tab_' + tab.id).style.display = "";

    if (tab.id == 'via_speedly') {
        eele.fire(document, 'qrcodeScan');
    }

}
// }}}
// {{{ function ajax_post()
var ajax_post = function(url, data, success, fail) 
{
    var ajax;
    var toTry = ['XMLHttpRequest', 'Msxml2.XMLHTTP', 'Microsoft.XMLHTTP'];
    for (var i=0; i<toTry.length; i++) {
        try {
            if (i == 0) {
                ajax = new window[toTry[i]]();
            } else {
                ajax = new window.ActiveXObject(toTry[i]);
            }
            break;
        } catch(e) {}
    }
    
    var stateChange = function()
    {
        if(ajax.readyState == 4)
        {
            if (ajax.status >=400) {
                if (typeof(fail) === 'function')
                    fail(ajax.statusText);
            } else if (typeof(success) === 'function') {
                success(ajax.responseText);
            }
        }
    };

    url = url + (url.indexOf('?') > -1 ? '&' : '?') + 'r=' + Math.random();

    ajax.onreadystatechange = stateChange;

    ajax.open('post', url, true);
    ajax.setRequestHeader("Content-Type","application/x-www-form-urlencoded");

    try {
        ajax.send(data);
    } catch (e) {
        if (typeof(fail) === 'function')
            fail(e);
    }
};
// }}}
// {{{ function on()
var on = function(node, ev, callback) {
    if (!node) return;
    var _callback = function(ev) {
        if (false === callback.apply(node, [ev])) {
            if (ev.preventDefault) {
                ev.preventDefault();
            }
            return false;
        }
    }
    if (node.addEventListener) {
        node.addEventListener(ev, _callback, false);
    } else {
        node.attachEvent('on'+ev, _callback);
    }
}
// }}}
// {{{ function _setPlaceholder()
var _setPlaceholder = function (b) {
    var a = b.getAttribute("_placeholder");
    if (!a) return;
    if ("placeholder" in b) {
        b.placeholder = a;
        return b;
    }

    var f = false;
    var _b;
    //password补丁
    if (b.type === 'password') {
        f = true;
        _b = document.createElement('input');
        _b.type = 'text';
        _b.style.fontSize =  '20px';
        _b.style.color = "#999";
        _b.value = a;
        _b.className = 'text';
        _b.style.display = 'none';
        b.parentNode.insertBefore(_b, b);
    }
    
    //初始化
    if (f) {
        if (b.value !== '') {
            b.style.display = '';
            _b.style.display = 'none';
        } else {
            b.style.display = 'none';
            _b.style.display = '';
        } 
    } else {
        if (b.value !== "") {
            b.empty = 0;
            b.style.color = "#000";
        } else {
            b.empty = 1;
            b.value = a;
            b.style.color = "#999";
        }
    }
    if (f) {
        on(_b, "focus", function () {
            _b.style.display = 'none';
            b.style.display = '';
            b.focus();
        });
        on(b, "blur", function () {
            if (b.value === "") {
                _b.style.display = '';
                b.style.display = 'none';
            }
        });
    } else {
        on(b, "focus", function () {
            if (this.empty == 1) {
                this.value = "";
                this.style.color = "#000";
            }
        });
        on(b, "blur", function () {
            if (this.empty == 1) {
                this.value = a 
                this.style.color = "#999"; 
            }
        });
        if (b.getAttribute('emu') == 1) {
            eele.on(b, "_keyup", function () {if (this.value === "") {this.empty = 1;} else {this.empty = 0;}});
        } else {
            on(b, "keyup", function () {if (this.value === "") {this.empty = 1;} else {this.empty = 0;}});
        }
    }
    return b;
}
// }}}
// {{{ function showAppealUnlock()
var showAppealUnlock = function()
{
    document.getElementById('unlock_petition_panel').style.display = '';
    loadUnlockImage();
}
// }}}
// {{{ function hideAppealUnlock()
var hideAppealUnlock = function()
{
    document.getElementById('unlock_petition_panel').style.display = 'none';
}
// }}}
// {{{ function loadUnlockImage()
var loadUnlockImage = function()
{
	var unlockImage = document.getElementById('unlock_code_img');
	unlockImage.innerHTML = '<img style = "width:100%; height:100%;" title="点击更换验证码" src="' + "/?q=auth.image&type=unlock&r=" + Math.random() + '">';
}
// }}}
// {{{ function getStorageKey()
var getStorageKey = function(email)
{
	var reg   = /^1[0-9]{10}$/;
	if (reg.test(email)) {
		return email;
	}
	if (-1 == email.indexOf('@')) {
		email = email + '@' + gDefaultDomain;
	}
	return email;
}
// }}}
// {{{ function window.onload()
window.onload = function() {

    var loginTo = getLoginTo();
    if (loginTo && document.getElementById(loginTo)) {
        tabClick(document.getElementById(loginTo), true);
    } else {
        tabClick(document.getElementById('via_acct'), true);
    }

    // {{{ init
    var _u = getCookie('emLoginUser');
    if (_u) {
        document.getElementById('user').value = _u;
        document.form_login.user.value = _u;
    }
    
    var pUser = g('user').parentNode;
    var pPwd  = g('common_password').parentNode;

    if (1 == gSysMfa) {
        var aNodes = g('tab_via_acct').childNodes;
        for (var i = 0; i < aNodes.length; i++) {
            if (aNodes[i].tagName == 'H3') {
                aNodes[i].style.display = 'none';
            }
        }
        g('pop').style.left = '1px';
        g('pop').style.top  = '47px';

        var ua = document.createElement('a');
        ua.href = 'javascript:void(0)';
        ua.className = 'next_btn';
        ua.title     = '请填写此字段';
        ua.id = 'user_next_btn';
        ua.tabIndex = -1;
        pUser.insertBefore(ua, g('user'));
        pUser.className = 'text_item text_item1 div_user';

        var pa = document.createElement('a');
        pa.href = 'javascript:void(0)';
        pa.className = 'next_btn';
        pa.title     = '请填写此字段';
        pa.id = 'pwd_next_btn';
        pa.tabIndex = -1;
        pPwd.insertBefore(pa, g('common_password'));
        pPwd.style.position = 'relative';

/*
        g('form_login_submit').style.display = 'none';
        g('form_login_submit').style.display = 'none';

*/
        var user = g('user').value;
        if (user) {
            var email    = document.getElementById('user').value;
	    /*
            if (-1 == email.indexOf('@')) {
                email = email + '@' + gDefaultDomain;
            }
	    */
	    email = getStorageKey(email);
            mfaData = gStorage.getItem('mfa_data' + email);
            mfaKey  = gStorage.getItem('mfa_key' + email);
            mfaType = gStorage.getItem('mfa_type' + email);

            if (1 == mfaType) {
               // pPwd.style.display       = 'none';
                //pUser.style.marginTop    = '65px';
                //pUser.style.marginBottom = '65px';
                pUser.style.marginBottom = '24px';

            } else { 
                g('user_next_btn').style.display = 'none';
                //pPwd.style.display       = '';
               // pUser.style.marginTop    = '55px';
                pUser.style.marginBottom = '24px';
            }
        } else {
            //pUser.style.marginTop    = '65px';
            //pUser.style.marginBottom = '65px';
            pUser.style.marginBottom = '24px';
            g('user_next_btn').style.display = 'none';
            //pPwd.style.display       = 'none';

        }
    }

    var _m = getCookie('emLoginMobile');
    if (_m) {
        document.getElementById('sms_mobile').value = _m;
        document.form_login2.mobile.value = _m;
    }
    
    // }}}
    // {{{ on.authCode
    //var authCode = document.getElementById('auth_code');
    var authCode = document.form_login.auth_code;
    var authImage = document.getElementById('auth_code_img');
    var timer = 0;

    /*
    on(authCode, 'focus', function() {
        if (authImage.innerHTML === '') {
            loadImage();
        }
        clearTimeout(timer);
        authImage.style.display = ''; 
    });

    on(authCode, 'blur', function() {
        clearTimeout(timer);
        timer = setTimeout(function() {
            authImage.style.display = 'none'; 
        }, 100);
    });
     */
    var authCode2 = document.getElementById('auth_code2');
    var authImage2 = document.getElementById('auth_code_img2');
    var timer2 = 0;
    on(authCode2, 'focus', function() {
        if (authImage2.innerHTML === '') {
            loadImage2();
        }
        clearTimeout(timer2);
        authImage2.style.display = ''; 
    });
    
    on(authCode2, 'blur', function() {
        clearTimeout(timer2);
        timer2 = setTimeout(function() {
            authImage2.style.display = 'none'; 
        }, 100);
    });
    // }}}
    // {{{ on.authImage
    on(authImage, 'mousedown', function() {
        loadImage();      
        clearTimeout(timer);
        authCode.focus();
        return false;
    });

    on(authImage2, 'mousedown', function() {
        loadImage2();      
        clearTimeout(timer2);
        authCode2.focus();
        return false;
    });

    var loadImage = function() {
	authCode.style.display='';
        authImage.innerHTML = '<img style="width:100%; height:100%" title="点击更换验证码" src="' + "/?q=auth.image&type=login&r=" + Math.random() + '">';
    }

    var loadImage2 = function() {
        authImage2.innerHTML = '<img style="width:100%; height:100%" title="点击更换验证码" src="' + "/?q=auth.image&type=sms&r=" + Math.random() + '">';
    }

        // }}}
    // {{{ isCaptcha
    if (isCaptcha == 2) {
        var forceCaptcha = false;
        var showCaptcha = function() {
            //var authCode = document.getElementById('auth_code');
            var authCode = document.form_login.auth_code;
            authCode.style.display = '';

            forceCaptcha = true;
			if (document.getElementById('auth_code_img').style.display  == 'none'){
				document.getElementById('auth_code_img').style.display = '';
				loadImage();
			}
		}

		var hideCaptcha = function() {
			//var authCode = document.getElementById('auth_code');
			document.getElementById('auth_code_img').style.display = 'none';
			var authCode = document.form_login.auth_code;
			authCode.style.display = 'none';
			forceCaptcha = false;
		}

		var changeFun = function() {
			var u = document.getElementById('user').value.replace(/^\s+|\s+$/g, '');
            if (u === '') {
                hideCaptcha();
                return;
            }
            ajax_post('/?q=login.check.captcha', 'user=' + encodeURIComponent(u), function(d) {
                try {
                    var o = eval('(' + d  + ')');
                    if (o.data) {
                        showCaptcha();
                    } else {
                        hideCaptcha();
                    }
                } catch(e) {
                    hideCaptcha();
                }
            });
        };

        on(document.getElementById('user'), 'blur', changeFun);
        changeFun();
    }
    // }}}
    // {{{ function beforeLogin()

    /**
     * 登录前操作
     * @param void
     * @return void
     */
    var beforeLogin = function() {
        var uc1, uc2, fUrl;
        var loginUrl, locationUrl;

        var loginSsl = document.form_login.login_ssl.value;

        uc1 = new UrlControl();
        uc2 = new UrlControl();

        uc1.setUrl(window.location.href);
        fUrl = uc1.getParam("furl");

        var tabs = document.getElementById('tab').getElementsByTagName('li');
        for (var i=0; i<tabs.length-1; i++) {
            if (tabs[i].className === 'current') {
                fUrl = document.form_login.go.value;
            }
        }

        var urlPort1, urlPort2, urlProtocol1, urlProtocol2;
        if ("" === uc1.urlProtocol) {
            urlPort1 = "";
        } else {
            urlProtocol1 = uc1.urlProtocol + "://";
            urlPort1 = "" === uc1.urlPort ? "" : (":" + uc1.urlPort);
        }

        uc2.setUrl(urlProtocol1 + uc1.urlHostname + urlPort1 + uc1.getPath());
        switch (parseInt(loginSsl)) {
            case 1:
                if (document.form_login.login_ssl.checked) {
                    uc2.urlProtocol = 'https'; 
                }
                break;
            case 2:
                uc2.urlProtocol = 'https';//login.do 
                break;
            case 3:
                uc1.urlProtocol = 'https';//q=base 
                uc2.urlProtocol = 'https'; 
                break;
            default:
        }

        if ("" === uc2.urlProtocol) {
            urlPort2 = "";
        } else {
            urlProtocol2 = uc2.urlProtocol  + "://";
            urlPort2 = "" === uc2.urlPort ? "" : (":" + uc2.urlPort);
        }
        
        if ("" === uc1.urlProtocol) {
            urlPort1 = "";
        } else {
            urlProtocol1 = uc1.urlProtocol + "://";
            urlPort1 = "" === uc1.urlPort ? "" : (":" + uc1.urlPort);
        }

        if (fUrl) {
            var uc3 = new UrlControl(); 
            uc3.setUrl(decodeURIComponent(fUrl));
            if (!uc3.urlProtocol) {
                locationUrl =  urlProtocol1 + uc1.urlHostname + urlPort1 + uc3.getPath() + "?" + uc3.getQs();
            } else {
                locationUrl = uc3.getUrl();
            }
        } else {
            locationUrl =  urlProtocol1 + uc1.urlHostname + urlPort1 + uc1.getPath() + "?q=base";
        }

        document.form_login.setAttribute('action', uc2.getUrl() + "?q=login.do");
        document.form_login.referer.value = window.location.href;
        document.form_login.go.value = locationUrl;


        var email    = document.getElementById('user').value;
        if (-1 == email.indexOf('@')) {
            email = email + '@' + gDefaultDomain;
        }

        document.form_login.mfa_data.value = gStorage.getItem('mfa_data' + email);
        document.form_login.mfa_key.value = gStorage.getItem('mfa_key' + email);
        document.form_login.mfa_type.value = gStorage.getItem('mfa_type' + email);
    }
    // }}}
    // {{{ function beforeLogin2()

    /**
     * 登录前操作
     * @param void
     * @return void
     */
    var beforeLogin2 = function() {
        var uc1, uc2, fUrl;
        var loginUrl, locationUrl;

        var loginSsl = document.form_login2.login_ssl.value;

        uc1 = new UrlControl();
        uc2 = new UrlControl();

        uc1.setUrl(window.location.href);
        fUrl = uc1.getParam("furl");

        var tabs = document.getElementById('tab').getElementsByTagName('li');
        for (var i=0; i<tabs.length-1; i++) {
            if (tabs[i].className === 'current') {
                fUrl = document.form_login2.go.value;
            }
        }

        var urlPort1, urlPort2, urlProtocol1, urlProtocol2;
        if ("" === uc1.urlProtocol) {
            urlPort1 = "";
        } else {
            urlProtocol1 = uc1.urlProtocol + "://";
            urlPort1 = "" === uc1.urlPort ? "" : (":" + uc1.urlPort);
        }

        uc2.setUrl(urlProtocol1 + uc1.urlHostname + urlPort1 + uc1.getPath());
        switch (parseInt(loginSsl)) {
            case 1:
                if (document.form_login2.login_ssl.checked) {
                    uc2.urlProtocol = 'https'; 
                }
                break;
            case 2:
                uc2.urlProtocol = 'https';//login.do 
                break;
            case 3:
                uc1.urlProtocol = 'https';//q=base 
                uc2.urlProtocol = 'https'; 
                break;
            default:
        }

        if ("" === uc2.urlProtocol) {
            urlPort2 = "";
        } else {
            urlProtocol2 = uc2.urlProtocol  + "://";
            urlPort2 = "" === uc2.urlPort ? "" : (":" + uc2.urlPort);
        }
        
        if ("" === uc1.urlProtocol) {
            urlPort1 = "";
        } else {
            urlProtocol1 = uc1.urlProtocol + "://";
            urlPort1 = "" === uc1.urlPort ? "" : (":" + uc1.urlPort);
        }

        if (fUrl) {
            var uc3 = new UrlControl(); 
            uc3.setUrl(decodeURIComponent(fUrl));
            if (!uc3.urlProtocol) {
                locationUrl =  urlProtocol1 + uc1.urlHostname + urlPort1 + uc3.getPath() + "?" + uc3.getQs();
            } else {
                locationUrl = uc3.getUrl();
            }
        } else {
            locationUrl =  urlProtocol1 + uc1.urlHostname + urlPort1 + uc1.getPath() + "?q=base";
        }

        document.form_login2.setAttribute('action', uc2.getUrl() + "?q=login.sms.do");
        document.form_login2.referer.value = window.location.href;
        document.form_login2.go.value = locationUrl;
    }
    // }}}
    // {{{ loginUsbkey.init()
        // }}}
    // {{{ function pinLogin()
    var pinLogin = function() {
        showMsg();
        var uNode = document.getElementById('user');
        var u = uNode.value.replace(/^\s+|\s+$/g, '');
        document.form_login.user.value = u;
        setCookie('emLoginUser', u);
        document.form_login.pin_login.value = 1;
        beforeLogin();
        document.form_login.submit();
    };
    // }}}
    // {{{ function onsubmit()
    var onsubmit = function(ev, noAlert) {
        noAlert = !!noAlert;
        showMsg();
        var uNode = document.getElementById('user');
        var pNode = document.getElementById('common_password');
        var u = uNode.value.replace(/^\s+|\s+$/g, '');
        if (pNode.type == 'password') {
            document.form_login.password.value = eele.utils.encodePassword(pNode.value);
        } else {
            document.form_login.password.value = eele.utils.encodePassword(pNode.val);
        }
    
                    if (u === '' || uNode.empty === 1 || document.form_login.password.value === '') {
                if (!noAlert) {
                    showMsg("请填写用户名和密码。");
                }
                if (u === '' || uNode.empty === 1) {
                    uNode.focus();
                } else {
                    if (pNode.style.display === 'none') {
                        document.form_login.password.previousSibling.style.display = 'none';
                        pNode.style.display = '';
                    }
                    //pNode.focus();
                }
                return false;
            }
                document.form_login.user.value = u;

        //如果开启验证码
        if (isCaptcha == 1 || forceCaptcha) {
            if ("" == authCode.value || authCode.empty === 1) {
                if (!noAlert) {
                    showMsg("请填写验证码。"); 
                }

                authCode.focus();
                return false;
            }
        }

                setCookie('emLoginUser', u);
        beforeLogin();
        return true;
    };
    // }}}
    // {{{ function onsubmit2()
    var onsubmit2 = function(ev, noAlert) {
        noAlert = !!noAlert;
        showMsg();
        var uNode = document.getElementById('sms_mobile');
        var pNode = document.getElementById('sms_password');
        var u = uNode.value.replace(/^\s+|\s+$/g, '');
        if (pNode.type == 'password') {
            document.form_login2.password.value = eele.utils.encodePassword(pNode.value);
        } else {
            document.form_login2.password.value = eele.utils.encodePassword(pNode.val);
        }

        if (u === '' || uNode.empty === 1 || document.form_login2.password.value === '') {
            if (!noAlert) {
                showMsg("请填写手机号和手机动态密码。");
            }
            if (u === '' || uNode.empty === 1) {
                uNode.focus();
            } else {
                //document.form_login2.password.focus();
                pNode.focus();
            }
            return false;
        }
    
        document.form_login2.mobile.value = u;

        setCookie('emLoginMobile', u);
        beforeLogin2();
        return true;
    };
    // }}}
    // {{{ on.user_next.click
    on(g('user_next_btn'), 'click', function(ev) {
        if ('' == g('user').value) {
            showMsg('请填写用户名。');
            return ;
        }

        var email    = document.getElementById('user').value;
	/*
        if (-1 == email.indexOf('@')) {
            email = email + '@' + gDefaultDomain;
        }
	*/
	email = getStorageKey(email);
        var mfaData = gStorage.getItem('mfa_data' + email);
        var mfaKey  = gStorage.getItem('mfa_key' + email);
        var mfaType = gStorage.getItem('mfa_type' + email);
        if (1 == mfaType) {
            pinLogin();
        } else {
            pPwd.style.display = '';
            //pUser.style.marginTop    = '55px';
            pUser.style.marginBottom = '24px';
            this.style.display = 'none';
        }
    });
    // }}}
    // {{{ on.password_next.click
    on(g('pwd_next_btn'), 'click', function(ev) {
        if ('' == g('common_password').value) {
            showMsg('请填写密码。');
            return ;
        }
        if (false === onsubmit(null, true)) {
            return;
        } else {
            var email    = g('user').value;
	    /*
            if (-1 == email.indexOf('@')) {
                email = email + '@' + gDefaultDomain;
            }
	    */
	    email = getStorageKey(email);
            document.form_login.mfa_data.value     = gStorage.getItem('mfa_data' + email);
            document.form_login.mfa_key.value = gStorage.getItem('mfa_key' + email);
            document.form_login.mfa_type.value = gStorage.getItem('mfa_type' + email);
            document.form_login.submit();
        }
    });
    // }}}
    // {{{ on.user.keydown
    on(document.getElementById('user'), 'keydown', function(ev) {
        if (1 == gSysMfa) {
            //pUser.style.marginTop    = '65px';
            //pUser.style.marginBottom = '65px';
            //pPwd.style.display       = 'none';
            g('user_next_btn').style.display = '';
            if ('' == this.value) {
                g('user_next_btn').style.display = '';
                g('user_next_btn').setAttribute('title', '请填写此字段');
            } else {
                g('user_next_btn').setAttribute('title', '');
            }

            if (ev.keyCode === 13) {
                setTimeout(function() {
                    g('user_next_btn').click();
                }, 100);
            }
        }
		/*
        if (ev.keyCode === 13) {
            setTimeout(function() {
		if ('' == g('user').value) {
		    showMsg('请填写用户名。');
		    g('user').focus();
		    return ;
		}

                if (false === onsubmit(null, true)) {
                    return; 
                } else {
                    document.form_login.submit();
                }
            }, 100);
        }
		 */
    });
    on(document.getElementById('common_password'), 'keydown', function(ev) {
        if (1 == gSysMfa) {
            //pUser.style.marginTop    = '55px';
            pUser.style.marginBottom = '24px';
            if ('' == this.value) {
                g('pwd_next_btn').setAttribute('title', '请填写此字段');
            } else {
                g('pwd_next_btn').setAttribute('title', '');
            }

            if (ev.keyCode === 13) {
                setTimeout(function() {
                    g('pwd_next_btn').click();
                }, 100);
            }
        }
        if (ev.keyCode === 13) {
            setTimeout(function() {
		if ('' == g('user').value) {
		    showMsg('请填写用户名。');
		    g('user').focus();
		    return ;
		}

		if ('' == g('common_password').value) {
		    showMsg('请填写密码。');
		    g('common_password').focus();
		    return ;
		}
                if (false === onsubmit(null, true)) {
                    return; 
                } else {
                    document.form_login.submit();
                }
            }, 100);
        }
    });
    on(document.getElementById('sms_password'), 'keydown', function(ev) {
        if (ev.keyCode === 13) {
            setTimeout(function() {
                if (false === onsubmit2(null, true)) {
                    return; 
                } else {
                    document.form_login2.submit();
                }
            }, 100);
        }
    });
    // }}}
    // {{{ sms bind
    var mobileIpt = document.getElementById('sms_mobile');
    var sendBtn = document.getElementById('sms_send');
    var authCode2 = document.getElementById('auth_code2');
    var timer3 = 0;
    var timeout = 60;
    var c;

    on(sendBtn, 'click', function(ev) {
        if (sendBtn.className.search('sms_disabled') > -1) {
            return false;
        }
        showMsg();
        var phone = mobileIpt.value.replace(/(^\s*)|(\s*$)/g, '');
        if (phone === '') {
            showMsg('请输入您的手机号码');
            return;
        }
        
        if ("" == authCode2.value || authCode2.empty === 1) {
            showMsg("请填写验证码。"); 
            authCode2.focus();
            return false;
        }

        var enableSend = function() {
            clearInterval(timer3);
            sendBtn.innerHTML = '获取短信密码';
            sendBtn.className = 'sms_login';
            authCode2.style.display = '';
            authCode2.value = '';
            loadImage2();
        }
        
        var disableSend1 = function() {
            clearInterval(timer3);
            sendBtn.innerHTML = '获取短信密码';
            sendBtn.className = 'sms_login sms_disabled';
            authCode2.style.display = 'none';
        }
        
        var disableSend2 = function() {
            c = timeout;
            sendBtn.innerHTML = c + '秒后重新发送';
            sendBtn.className = 'sms_login sms_disabled';
            var loop = function() { 
                c--;
                if (c > 0) {
                    sendBtn.innerHTML = c + '秒后重新发送';
                } else {
                    enableSend();
                }
            }
            timer3 = setInterval(loop , 1000);
        }

        disableSend1();

        ajax_post('/?q=login.sms.send', 'mobile=' + encodeURIComponent(phone) + '&code=' + encodeURIComponent(authCode2.value), function(d) {
            try {
                var o = eval('(' + d  + ')');
                if (o.error == "" && o.res == 1) {
                    //等待接收验证码             
                    disableSend2();
                } else {
                    if (o.error != "") {
                        throw o.error;
                    } else {
                        throw "系统错误";
                    }
                }
            } catch(e) {
                showMsg(e);
                enableSend();
            }
        }, function(e) {
            showMsg(e);
            enableSend();
        });
        
    });

    // }}}
    // {{{ on.form_login.submit
    on(document.form_login, 'submit', onsubmit);
    on(document.form_login2, 'submit', onsubmit2);
    //}}}
    // {{{ function onUnlockSubmit()
    var onUnlockSubmit = function(ev) {
        showMsg();
        var uNode = document.getElementById('unlock_user');
        var sNode = document.getElementById('unlock_reason');
        var u = uNode.value.replace(/^\s+|\s+$/g, '');
		if (u === '' || uNode.empty === 1 ) {
			showUnlockMsg("请填写账号。", 'fail');
			if (u === '' || uNode.empty === 1) {
				uNode.focus();
			}
			return false;
		}
        uNode.value = u;
        
        if (document.form_unlock_petition.unlock_name.value === '') {
			showUnlockMsg("请填写姓名。", 'fail');
            document.form_unlock_petition.unlock_name.focus();
			return false;
		}
        
        if (document.form_unlock_petition.unlock_corp.value === '') {
			showUnlockMsg("请填写所在单位。", 'fail');
            document.form_unlock_petition.unlock_corp.focus();
			return false;
		}
        
        if (document.form_unlock_petition.unlock_part.value === '') {
			showUnlockMsg("请填写所在部门。", 'fail');
            document.form_unlock_petition.unlock_part.focus();
			return false;
		}
        
        if (document.form_unlock_petition.unlock_contact.value === '') {
			showUnlockMsg("请填写联系方式。", 'fail');
            document.form_unlock_petition.unlock_contact.focus();
			return false;
		}
		
        if (document.form_unlock_petition.unlock_reason.value === '') {
			showUnlockMsg("请填写申诉内容。", 'fail');
            document.form_unlock_petition.unlock_reason.focus();
			return false;
		}

        var unlockCode = document.getElementById('unlock_code');
		if ("" == unlockCode.value || unlockCode.empty === 1) {
			showUnlockMsg("请填写验证码。", 'fail');
			unlockCode.focus();
			return false;
		}

        if (!confirm('您确定向管理员申请解锁账号' + u + '吗？')) {
            return false;
        }

        var data = 'unlock_user=' + encodeURIComponent(u) +
            '&unlock_reason=' + encodeURIComponent(sNode.value) +
            '&unlock_name=' + encodeURIComponent(document.form_unlock_petition.unlock_name.value) +
            '&unlock_corp=' + encodeURIComponent(document.form_unlock_petition.unlock_corp.value) +
            '&unlock_part=' + encodeURIComponent(document.form_unlock_petition.unlock_part.value) +
            '&unlock_contact=' + encodeURIComponent(document.form_unlock_petition.unlock_contact.value) +
            '&unlock_code=' + encodeURIComponent(unlockCode.value);
        ajax_post('/?q=login.unlock', data, function(d) {
            try {
                var o = eval('(' + d  + ')');
                if (o.res != 1) {
                    loadUnlockImage();
                    showUnlockMessage(o.message, 'fail');
                } else {
                    var msg = '提交解锁申请成功，请耐心等待管理员审核。';
                    showUnlockMessage(msg, 'success');
                    hideAppealUnlock();
                }
            } catch(e) {
                hideAppealUnlock();
            }
        });
        return false;
    };
    // }}}
    // {{{ showUnlockMessage
    var unlockMsgHandle, showUnlockMsg;
    var showUnlockMessage = showUnlockMsg = function(msg, state) {
        var msg_div = document.getElementById('unlock_msg');
        msg_div.innerHTML = msg;
        msg_div.style.display = '';
        clearTimeout(unlockMsgHandle);

        if (state == 'success') {
            msg_div.style.backgroundColor = '#3e9317';
        } else {
            msg_div.style.backgroundColor = '#cc3300';
        }
        unlockMsgHandle = setTimeout(function() {
            var msg_div = document.getElementById('unlock_msg');
            msg_div.innerHTML = '';
            msg_div.style.display = 'none';
        },5000);

    }
    // }}}
    // {{{ on.form_unlock_petition.submit
    on(document.form_unlock_petition, 'submit', onUnlockSubmit);
    //}}}

    showMsgCode(code);

    // {{{  ie_type
        // }}}
    // {{{ function showQrmsg()
    var showQrmsg = function(id, msg) {
        if (typeof(id) == 'undefined') {
            id = 'expire';
        }

        if (typeof(msg) == 'undefined') {
            msg = '二维码过期<br/>请点击刷新';
        }
        document.getElementById(id).style.display = '';
        document.getElementById(id).innerHTML = msg;
    }
    // }}}
    // {{{ function hideQrmsg()
    var hideQrmsg = function(id) {
        if (typeof(id) == 'undefined') {
            id = 'expire';
        }
        document.getElementById(id).style.display = 'none';
    }
    // }}}

    var io = new EmIo({server:'/?q=login.io', 'topic':'qrcode'});

    // {{{ function getQrcode() app_qrcode
    var getQrcode = function() {
        if (!gHasSecureMail) {
            return false;
        }

        hideQrmsg();
        ajax_post('/?q=login.qrcode', 't=req', function(d) {
            var data = eval('(' + d  + ')');
            if (data.res == 0) {
                showQrmsg();
                io.close();
            }  else {
                var qrcodeId = data.data.key;
                var timeout = data.data.timeout;
                var handle = 0;
                document.getElementById('qrcode').src = '/?q=login.qrcode&t=qrcode&cid=' + encodeURIComponent(data.data.cid) + '&r=' + (new Date().getTime());
                io.on(qrcodeId, function(data) {
                    switch(data.res) {
                        case 0://失败
                            showMsg(data.error);
                            break;

                        case 1://已经扫描
                            showMsg(data.info);
                            break;

                        case 2://成功
                            clearTimeout(handle);
                            io.un(qrcodeId);
                            io.close();
                            beforeLogin();
                            setTimeout(function() {
                                window.location.href = document.form_login.go.value;
                            },300);
                            //跳转
                            break;

                        case -1://过期
                            clearTimeout(handle);
                            showQrmsg();
                            io.un(qrcodeId);
                            io.close();
                            break;
                    }
                }); 
    
                handle = setTimeout(function() {
                    io.emit(qrcodeId, {res:-1});         
                }, timeout * 1000);
            }
        }, function() {
            showQrmsg();
            io.close();
        });
    }
    // }}}
    // {{{ on.connected
    io.on('connected', function(client) {
        getQrcode();
    });
    // }}}
    // {{{ function qrcodeRefresh()
    var qrcodeRefresh = function() 
    {
        //hideQrmsg();
        io.connect();
    }
    // }}}
    // {{{ function changeMode()
    var changeMode = function(mode) 
    {
        document.getElementById('mode1').style.display = 'none';
        document.getElementById('mode2').style.display = 'none';

        // 切换标签清理微信循环
        if (wxScanTimeOut) {
            clearTimeout(wxScanTimeOut);
        }

        switch (mode) {
            case 1:
                if (document.getElementById('expire').style.display != 'none') {
                    qrcodeRefresh();
                }
                document.getElementById('mode1').style.display = '';
                break;
            case 2:
                if (!gHasOpenid) {
                    return false;
                }

                if (!wxQrcodeScanStop && document.getElementById('wx_expire').style.display != 'none') {
                    wxQrcodeRefresh();
                }

                document.getElementById('mode2').style.display = '';

                if (!wxQrcodeScanStop) {
                    wxQrcodeScan(gWxQrcodeId)
                }

                break;

            case 0:
                // 此处故意省略break
            default:
                break;
        }
        /*
        if (mode == 1) {
            
        } else {
            document.getElementById('mode1').style.display = 'none';
            document.getElementById('mode0').style.display = '';
        }*/
    }
    // }}}
    // {{{ on.change
    on(document.getElementById('expire'), 'click', qrcodeRefresh);
    eele.on(document, 'qrcodeScan', function(){
        if (gHasSecureMail) {
            changeMode(1);
        }

        if (!gHasSecureMail && gHasOpenid) {
            changeMode(2);
        }
    });

    if (gHasSecureMail) {
        on(document.getElementById('change2'), 'click', function() {
            changeMode(1);      
        });
    }

    if (gHasOpenid) {
        on(document.getElementById('change1'), 'click', function() {
            changeMode(2);      
        });
    }

    // }}}
    // {{{ function getWxQrcode() wx_qrcode

    /**
     * 获取wx的二维码
     * @params boolean startScan
     * @return void
     */
    var getWxQrcode = function(startScan, notCloseMsg) {
     if (typeof(startScan) == 'undefined') {
         startScan = 0;
     }

     notCloseMsg = !!notCloseMsg;


     wxQrcodeScanStop = false;
     wxQrcodeScanTryNum = 0;

    if (!notCloseMsg) {
        hideQrmsg('wx_expire');
        showMsg();
    }

    ajax_post('/?q=login.wxqrcode',
              'action=init&oqrid=' + gWxQrcodeId,
              function(d){
                var data = eval('(' + d  + ')');
                if (data.res == 0) {
                    showQrmsg();
                }  else {
                    var qrcodeId = data.data.qrcode_id;
                    setTimeout(function() {
                        document.getElementById('wxqrcode').src = '/?q=login.wxqrcode&action=get&qrid=' + encodeURIComponent(qrcodeId) + '&r=' + (new Date().getTime());
                    }, 200);
                    gWxQrcodeId = qrcodeId;
                    wxQrcodeScanTryNum = 0;

                    if (startScan == 1) {
                        wxQrcodeScan(qrcodeId);
                    }
                }

            },
            function() {
                showQrmsg();
            });
    }
    // }}}
    // {{{ function wxQrcodeScan()

    /**
     * 扫描微信二维码
     * @param string qrId
     * @return void
     */
    var wxQrcodeScan = function(qrId) {
        wxQrcodeScanStop = true;
        ajax_post('/?q=login.wxqrcode.scan',
            'qrid=' + qrId,
              function(d){
                var data = eval('(' + d  + ')');
                switch (data.res - 0) {
                    case 0: // 失败
                        break;

                       // 此处故意省略break
                    case 4: // 未绑定账户 
                       // 此处故意省略break
                    case 5: // 用户不存在
                       // 此处故意省略break
                    case 6: // 微信认证失败
                        showMsg(data.error);
                        showQrmsg('wx_expire', '扫描错误');
                        break;

                    case 2: // 已扫描
                       wxQrcodeScanStop = false;
                       showMsg(data['data']['info']);

                       if (data['data']['wx_user_info'] != '') {
                         var wxUser = data['data']['wx_user_info'];
                         setTimeout(function() {
                            document.getElementById('wxqrcode').src = wxUser['headimgurl'];
                            showQrmsg('wx_expire', wxUser['nickname']);
                         }, 200);
                       } else {
                           showQrmsg('wx_expire', '已扫描');
                       }
                       break;

                   case 3: // 成功
                       beforeLogin();

                       //跳转
                       setTimeout(function() {
                            window.location.href = document.form_login.go.value;
                       },300);
                       break;

                   case 7: // 取消登陆
                       showMsg();
                       hideQrmsg();
                       getWxQrcode(1);
                       break;

                   case 8: // 签名验证失败
                       showMsg(data.error);
                       showQrmsg('wx_expire', '签名验证失败');
                       break;

                   case 1: // 初始化状态
                       showMsg();
                       hideQrmsg('wx_expire');
                       wxQrcodeScanStop = false;
                       break;

                    case -1: // 过期 
                       showMsg();
                       showQrmsg('wx_expire');
                       break;
                   default:
                       break;
                }

                if (!wxQrcodeScanStop && wxQrcodeScanTryNum < wxQrcodeScanTryMaxNum) {
                    wxScanTimeOut = setTimeout(function(){wxQrcodeScan(qrId);}, wxQrcodeScanTime); 
                }

            },
            function() {
                wxQrcodeScanTryNum++;
                showQrmsg();
            });
    }
    // }}}
    // {{{ function wxQrcodeRefresh()
    var wxQrcodeRefresh = function() 
    {
        getWxQrcode(1);
    }
    // }}}

    if (gHasOpenid) {
        getWxQrcode(1 , true);
    }

    on(document.getElementById('wx_expire'), 'click', wxQrcodeRefresh);
                
    changeMode(1);
    var setEmuPassword = function(n)
    {
        if (n.type == 'password') {
            return false;
        }
        n.setAttribute('emu', 1);
        if (n.empty == 1) {
            n.val = '';
        } else {
            n.val = n.value.replace(/[\u4e00-\u9fa5]/g,'');
        }
        n.style.imeMode = "disabled";

        var strPad = function(c, l) 
        {
            var r = "";
            for (var i=0;i<l;i++) {
                r += c;
            }

            return r;
        }

        eele.on(n, "keyup", function() {
            eele.fire(n, '_keyup');
            if (n.empty == 1) {
                this.value = '';
            }
            this.value = this.value.replace(/[\u4e00-\u9fa5]/g,'');
            if (this.val.length < this.value.length) {
                //删一字母
                this.val += this.value.substr(this.val.length);
            } else if (this.val.length > this.value.length) {
                this.val = this.val.substr(0, this.value.length);
            }

            this.value = strPad("*", this.val.length);
        });
    }

    setEmuPassword(eele.g('sms_password'));
    setEmuPassword(eele.g('common_password'));
    
    var ipts = document.getElementsByTagName('input');
    for (var i=ipts.length-1; i>=0; i--) {
        var type = ipts[i].type;
        if ((type == 'text' || type == 'password') && ipts[i].getAttribute('_placeholder')) {
            _setPlaceholder(ipts[i]);
        }
    }
}
// }}}

var downTab = {"android":{"name":"Android\u5ba2\u6237\u7aef","items":{"ePush":[["\u4e0b\u8f7dePush\u5230\u7535\u8111","url","https:\/\/ota.eyou.net\/new\/client\/android\/epush\/common.eyou.net\/latest\/epush.apk","d_desk"],["\u626b\u63cf\u4e8c\u7ef4\u7801\u4e0b\u8f7dePush","code",0,"d_code"]],"IM":[["\u4e0b\u8f7dIM\u5230\u7535\u8111","url","https:\/\/ota.eyou.net\/new\/client\/android\/eyouim\/common.eyou.net\/latest\/eyouim.apk","d_desk"],["\u626b\u63cf\u4e8c\u7ef4\u7801\u4e0b\u8f7dIM","code",1,"d_code"]],"mailchat":[["\u4e0b\u8f7d\u90ae\u6d3d\u5230\u7535\u8111","url","https:\/\/ota.eyou.net\/new\/client\/android\/mailchat\/common.eyou.net\/latest\/mailchat.apk","d_desk"],["\u626b\u63cf\u4e8c\u7ef4\u7801\u4e0b\u8f7d\u90ae\u6d3d","code",2,"d_code"]]}},"ios":{"name":"iOS\u5ba2\u6237\u7aef","items":{"ePush":[["\u4e0b\u8f7dePush\u5230\u7535\u8111","url","https:\/\/ota.eyou.net\/new\/client\/ios\/epush\/common.eyou.net\/latest\/epush.ipa","d_desk"],["\u626b\u63cf\u4e8c\u7ef4\u7801\u4e0b\u8f7dePush","code",3,"d_code"]],"mailchat":[["\u4e0b\u8f7d\u90ae\u6d3d\u5230\u7535\u8111","url","https:\/\/itunes.apple.com\/cn\/app\/35mail\/id592687646?ls=1&mt=8","d_desk"],["\u626b\u63cf\u4e8c\u7ef4\u7801\u4e0b\u8f7d\u90ae\u6d3d","code",4,"d_code"]]}},"desk":{"name":"\u684c\u9762\u5ba2\u6237\u7aef","items":{"ePush":[["\u90ae\u4ef6\u5ba2\u6237\u7aef Windows\u7248","url","https:\/\/ota.eyou.net\/new\/soft\/eyoumailsetup.exe","d_desk"]],"plugin":[["\u5168\u5c40\u901a\u8baf\u5f55 Outlook\u7248","url","https:\/\/ota.eyou.net\/new\/soft\/outlook_addin_install.zip","d_desk"],["\u5168\u5c40\u901a\u8baf\u5f55 Foxmail\u7248","url","https:\/\/ota.eyou.net\/new\/soft\/foxplug_install.msi","d_desk"]]}}};
var lastSelDownTab = '';

    // {{{ function _drawDown()

    /**
     * 画下载内容
     * @var void
     * @return void
     */
     var _drawDown = function() {
         var tab = document.getElementById('down_tab');
         var tabItems = document.getElementById('down_tab_items');
         var getCur = 0;

         for (var i in downTab) {
             var tName = downTab[i]['name'];
             var tItems = downTab[i]['items'];

             var cn = '';
             var dis = 'none';

             if (getCur == 0) {
                 var cn = 'current';
                 getCur = 1;
                 lastSelDownTab = i;
                 dis = '';
             }

             // 画tab
             var a = document.createElement('a');
             a.href = 'javascript:void(0);';
             a.className = cn;
             a._key = i;
             a.innerHTML = tName;
             a.id = 'down_tab_' + i;
             a.onmouseover = function() {
                 var _key = this._key;

                 if (lastSelDownTab !== '') {
                     document.getElementById('down_tab_' + lastSelDownTab).className = '';

                     if (document.getElementById('down_tab_items_' + lastSelDownTab)) {
                         document.getElementById('down_tab_items_' + lastSelDownTab).style.display = 'none';
                     }
                 }

                 if (document.getElementById('down_tab_items_' + this._key)) {
                     document.getElementById('down_tab_items_' + this._key).style.display = '';
                 }

                 this.className = 'current';
                 lastSelDownTab = this._key;
             }
             tab.appendChild(a);

             // 画items
             var mainDiv = document.createElement('div');
             mainDiv.id = 'down_tab_items_' + i;
             mainDiv.style.display = dis;
             tabItems.appendChild(mainDiv);

             for (var t in tItems) {
                 var box = document.createElement('div');
                 box.className = 'dbox';
                 mainDiv.appendChild(box);

                 var item = tItems[t];
                 var len = item.length;

                 for (var j = 0; j < len; j++) {
                     var _tn = item[j][0];
                     var _ty = item[j][1];
                     var _tv = item[j][2];
                     var _tc = item[j][3];

                     if (_ty == 'url') {
                         var div = document.createElement('div');
                         div.className = _tc;
                         div._go = _tv;
                         div.onclick = function() {
                             window.open(this._go);
                             return false;
                         }
                         box.appendChild(div);

                         var _a = document.createElement('a');
                         _a.target = '_blank';
                         _a.href = _tv; 
                         _a.innerHTML = _tn;
                         div.appendChild(_a);
                     } else if (_ty == 'code') {
                         var div = document.createElement('div');
                         div.className = _tc;
                         box.appendChild(div);

                         var _a = document.createElement('a');
                         _a.href = 'javascript:void(0);'; 
                         _a.innerHTML = _tn;
                         div.appendChild(_a);

                         var _cdiv = document.createElement('div');
                         _cdiv.className = 'divcode';
                         _cdiv.style.zIndex = '10000';
                         div.appendChild(_cdiv);

                         var _div1 = document.createElement('div');
                         _div1.className = 'arrt';
                         _cdiv.appendChild(_div1);

                         var _div2 = document.createElement('div');
                         _div2.className = 'codec';
                         _div2.innerHTML = '<p>用手机扫描二维码即可立即下载</p>'
                                          + '<div class="ewm"><img src="?q=login&m=qrcode&id=' + _tv + '"/></div>';
                         _cdiv.appendChild(_div2);

                     }
                 }
             }
         }

     }

     // }}} 

//以下代码用来登录退出
//ajax_post('/?q=login.destroy.session');
</script><script type="text/javascript">eele.event={},eele.include("browser"),"eele_event_listener"in window?eele.event._listener=window.eele_event_listener:eele.event._listener=window.eele_event_listener={},"eele_event_handlers"in window?eele.event._handlers=window.eele_event_handlers:eele.event._handlers=window.eele_event_handlers={},"eele_event_guid"in window?eele.event.guid=window.eele_event_guid:eele.event.guid=window.eele_event_guid={"id":1e8},eele.event.triggered=!1,eele.event.on=eele.on=function(e,t,n){if("object"==typeof e&&(!e.nodeType||3!=e.nodeType&&8!=e.nodeType)){eele.browser.ie&&e.setInterval&&(e=window),e.guid||(e.guid=++eele.event.guid.id,eele.event._listener[e.guid]={});var i,r=eele.event._listener[e.guid],l=eele.event._handlers;i=function(e){return function(t){if(!eele.event.triggered){if(e.disabled)return t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,!1;return!1===n.apply(e,[t])?(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,!1):void 0}}}(e),n.guid||(n.guid={}),i.guid=++eele.event.guid.id,n.guid[i.guid]=!0,l[i.guid]=i;for(var a=t.replace(/^\s+|\s+$/g,"").split(/\s+/),d=0;d<a.length;d++)if(r[a[d]]||(r[a[d]]={}),r[a[d]][i.guid]||(r[a[d]][i.guid]=[]),r[a[d]][i.guid].push(i),e.addEventListener)try{e.addEventListener(a[d],i,!1)}catch(o){}else if(e.attachEvent)try{e.attachEvent("on"+a[d],i)}catch(o){}e=null}},eele.event.un=eele.un=function(e,t,n){if("object"==typeof e&&(!e.nodeType||3!=e.nodeType&&8!=e.nodeType)&&(eele.browser.ie&&e.setInterval&&(e=window),e.guid&&eele.event._listener[e.guid])){var i=eele.event._listener[e.guid],r=[];if(t)r=t.replace(/^\s+|\s+$/g,"").split(/\s+/);else for(var l in i)r.push(l);var a,d=!1;if(n){if(!n.guid)return;for(var o in n.guid)if(n.guid[o]&&!eele.event._handlers[o])return}else d=!0;for(l=0;l<r.length;l++)if(i[r[l]])e:for(var v in i[r[l]])if(d||n.guid[v])for(;i[r[l]][v].length>0;){if(a=i[r[l]][v].pop(),e.removeEventListener)try{e.removeEventListener(r[l],a,!1)}catch(u){}else if(e.detachEvent)try{e.detachEvent("on"+r[l],a)}catch(u){}if(!d)break e}}},eele.event.fire=eele.fire=function(e,t,n){if("object"==typeof e&&(!e.nodeType||3!=e.nodeType&&8!=e.nodeType)){if(eele.browser.ie&&e.setInterval&&(e=window),e.guid&&eele.event._listener[e.guid])var i=eele.event._listener[e.guid];else i={};var r=t.replace(/^\s+|\s+$/g,"").split(/\s+/);if(e.attachEvent)l=document.createEventObject();else if(e.addEventListener){var l;(l=document.createEvent("HTMLEvents")).initEvent(l,!0,!0)}else l={"type":t,"target":e,"preventDefault":function(){},"stopPropagation":function(){},"timeStamp":(new Date).getTime()};if("object"==typeof n)for(var a in n)try{l[a]=n[a]}catch(g){}var d,o,v;for(a=0;a<r.length;a++){if(v="function"==typeof e[r[a]],o=!0,!e.nodeType||v||e.tagName&&"A"===e.tagName&&"click"==r[a]||!e["on"+r[a]]||!1!==e["on"+r[a]].apply(e,l)||(o=!1),i[r[a]]){d=i[r[a]];for(var u in d)for(var s=0;s<d[u].length;s++)!1===d[u][s].apply(e,[l])&&(o=!1)}if(e.nodeType&&v&&o&&(!e.tagName||"A"!==e.tagName||"click"!=r[a])){eele.event.triggered=!0;try{e[r[a]]()}catch(g){}eele.event.triggered=!1}}}};</script><script type="text/javascript">eele.browser={},eele.browser.ie=eele.ie=/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp.$1:undefined,eele.browser.firefox=/firefox\/(\d+\.\d+)/i.test(navigator.userAgent)?+RegExp.$1:undefined,eele.browser.chrome=/chrome\/(\d+\.\d+)/i.test(navigator.userAgent)?+RegExp.$1:undefined,eele.browser.opera=/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp.$6||RegExp.$2):undefined,function(){var e=navigator.userAgent;eele.browser.safari=/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(e)&&!/chrome/i.test(e)?+(RegExp.$1||RegExp.$2):undefined}(),eele.browser.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent),eele.browser.isWebkit=/webkit/i.test(navigator.userAgent),eele.browser.isStrict="CSS1Compat"==document.compatMode,eele.browser.cookie=function(e,r,t){if(void 0===r){var i=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),n=0;n<o.length;n++){var s=o[n].replace(/^\s+|\s+$/g,"");if(s.substring(0,e.length+1)==e+"="){i=decodeURIComponent(s.substring(e.length+1));break}}return i}t=t||{},null===r&&(r="",t.expires=-1);var d="";if(t.expires&&("number"==typeof t.expires||t.expires.toUTCString)){var a;"number"==typeof t.expires?(a=new Date).setTime(a.getTime()+24*t.expires*60*60*1e3):a=t.expires,d="; expires="+a.toUTCString()}var g=t.path?"; path="+t.path:"",u=t.domain?"; domain="+t.domain:"",p=t.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(r),d,g,u,p].join("")};</script><script type="text/javascript">eele.base64={},function(){function r(){this._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}r.prototype.encode=function(r){var e,t,o,n,h,a,d,i="",c=0;for(r=this._utf8_encode(r);c<r.length;)n=(e=r.charCodeAt(c++))>>2,h=(3&e)<<4|(t=r.charCodeAt(c++))>>4,a=(15&t)<<2|(o=r.charCodeAt(c++))>>6,d=63&o,isNaN(t)?a=d=64:isNaN(o)&&(d=64),i=i+this._keyStr.charAt(n)+this._keyStr.charAt(h)+this._keyStr.charAt(a)+this._keyStr.charAt(d);return i},r.prototype.decode=function(r){var e,t,o,n,h,a,d="",i=0;for(r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");i<r.length;)e=this._keyStr.indexOf(r.charAt(i++))<<2|(n=this._keyStr.indexOf(r.charAt(i++)))>>4,t=(15&n)<<4|(h=this._keyStr.indexOf(r.charAt(i++)))>>2,o=(3&h)<<6|(a=this._keyStr.indexOf(r.charAt(i++))),d+=String.fromCharCode(e),64!=h&&(d+=String.fromCharCode(t)),64!=a&&(d+=String.fromCharCode(o));return d=this._utf8_decode(d)},r.prototype._utf8_encode=function(r){for(var e="",t=0;t<r.length;t++){var o=r.charCodeAt(t);o<128?e+=String.fromCharCode(o):o>127&&o<2048?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e},r.prototype._utf8_decode=function(r){for(var e="",t=0,o=0,n=0,h=0;t<r.length;)(o=r.charCodeAt(t))<128?(e+=String.fromCharCode(o),t++):o>191&&o<224?(n=r.charCodeAt(t+1),e+=String.fromCharCode((31&o)<<6|63&n),t+=2):(n=r.charCodeAt(t+1),h=r.charCodeAt(t+2),e+=String.fromCharCode((15&o)<<12|(63&n)<<6|63&h),t+=3);return e};var e=new r;eele.base64.encode=function(r){return e.encode(r)},eele.base64.decode=function(r){return e.decode(r)}}();</script><script type="text/javascript">eele.utils={},eele.utils.htmlspecialchars=function(e,t){switch(e=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t){case"ENT_QUOTES":e=e.replace(/"/g,"&quot;").replace(/'/g,"&#039;");break;case"ENT_NOQUOTES":break;case"ENT_COMPAT":default:e=e.replace(/"/g,"&quot;")}return e},eele.utils.formatBytes=function(e,t,r,n){e=parseInt(e),t=undefined===t||0>t?2:t,r=undefined===r?" ":r;for(var a=["B","KB","MB","GB","TB","PB"],l=a.length,i=0;i<l&&!(e<1024||l===i+1);i++)e/=1024;return t=0===i?0:t,(n=void 0===n?0:n)>0?Math.ceil(e)+r+a[i]:n<0?Math.floor(e)+r+a[i]:e.toFixed(t)+r+a[i]},eele.utils.insertWbrFlag=function(e,t){if(void 0===t)t=5;for(var r="",n=0,a="";;){if(""==(a=e.substr(n,t)))break;r+=a+"<wbr>",n+=t}var l=new RegExp("(&\\w*)(<wbr>)(\\w*;)","ig");a=r.replace(l,"$1$3$2"),l=new RegExp("(&(#|\\d)*)(<wbr>)((#|\\d)*;)","ig");return a.replace(l,"$1$4$3")},eele.utils.getCount=function(e){var t,r;switch(eele.utils.getType(e)){case"object":t=0;for(r in e)t++;break;case"array":t=e.length;break;case"undefined":case"null":t=0;break;default:t=1}return t},eele.utils.getType=function(e){var t=typeof e;return"object"===t?null===e?"null":"undefined"!=typeof e.length?"array":"object":t},eele.utils.strTrim=function(e){return(e+="").replace(/^\s*/,"").replace(/\s*$/,"")},eele.utils.arraySearch=function(e,t,r){var n,a,l,i;if(r=!0===r,"array"===(a=this.getType(t))){for(n=0;n<t.length;n++)if(r&&t[n]===e||!r&&t[n]==e){i=n;break}}else if("object"===a)for(l in t)if(r&&t[l]===e||!r&&t[l]==e){i=l;break}return void 0!==i&&i},eele.utils.extend=function(e,t,r){r||(r=[]),t.apply(e.prototype,r)},eele.utils.L=function(e,t){if(t)var r=Alang;else r=Olang;return void 0===r||"undefined"==typeof r[e]?e:r[e]},eele.utils.sprintf=function(){var e=arguments,t=arguments.length;if(0===t)return"";var r=e[0]+"";if(1===t)return e[0];for(var n=1;n<t;n++)r=r.replace(/\%s/,(e[n]+"").replace(/\$/g,"$$$$"));return r},eele.utils.checkPasswordStrength=function(e){for(var t,r=[],n=[],a=[],l=[],i={},s=0;s<e.length;s++)i[t=e.charCodeAt(s)]||(t>=48&&t<=57?r.push(t):t>=65&&t<=90?a.push(t):t>=97&&t<=122?n.push(t):l.push(t),i[t]=!0);var u=0;return r.length>0&&u++,n.length>0&&u++,n.length>2&&u++,a.length>0&&u++,a.length>2&&u++,l.length>0&&u++,l.length>2&&(u+=2),u>4&&(u=4),u},eele.utils.checkFlash=function(e,t){var r=0,n=0;if(t=!!t,document.all){try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(s){return!1}a&&(r=1,VSwf=a.GetVariable("$version"),n=parseInt(VSwf.split(" ")[1].split(",")[0]))}else if(navigator.plugins&&navigator.plugins.length>0){if(a=navigator.plugins["Shockwave Flash"]){r=1;for(var l=a.description.split(" "),i=0;i<l.length;++i)isNaN(parseInt(l[i]))||(n=parseInt(l[i]))}}return!(!r||n<e)&&(!t||n)},eele.utils.getRealIEVersion=function(){var e=navigator.userAgent.toLowerCase();return!!window.ActiveXObject&&(v=e.match(/msie ([\d.]+)/)[1],v-0<7?6:window.postMessage?"msDoNotTrack"in navigator?9:8:7)},eele.utils.encodePassword=function(e){eele.include("base64");for(var t,r=[],n=(new Date).getTime()%127+1,a=0;a<e.length;a++)t=e.charCodeAt(a),t^=n,r.push(t);return r.push(n),eele.base64.encode(String.fromCharCode.apply(this,r))};</script><script type="text/javascript">eele.dom={},eele.include("browser"),eele.dom.g=eele.g=function(e){return"string"==typeof e?document.getElementById(e):e},eele.dom.attr=function(e,t){if(eele.browser.ie<8&&("for"===t&&(t="htmlFor"),"class"===t&&(t="className")),e=eele.dom.g(e),arguments.length>2){var o=arguments[2];return t in e?e[t]=o:e.setAttribute(t,o),e}return t in e?e[t]:e.getAttribute(t)},eele.dom.opacity=function(e){if(e=eele.g(e),arguments.length>1){var t=arguments[1];return eele.browser.ie>0?(e.style.filter=1==t?"":"Alpha(Opacity="+100*t+")",e.style.opacity=t):e.style.opacity=1==t?"":t,e}},eele.dom.hasClass=function(e,t){"string"==typeof e&&(e=eele.g(e));for(var o=(eele.dom.attr(e,"class")||"").split(" "),n=0,l=o.length;n<l;n++)if(o[n]===t)return!0;return!1},eele.dom.addClass=function(e,t){"string"==typeof e&&(e=eele.g(e));for(var o=(eele.dom.attr(e,"class")||"").split(" "),n=[],l=0;l<o.length;l++)o[l]!==t&&n.push(o[l]);n.push(t),eele.dom.attr(e,"class",n.join(" "))},eele.dom.removeClass=function(e,t){"string"==typeof e&&(e=eele.g(e));for(var o=(eele.dom.attr(e,"class")||"").split(" "),n=[],l=0;l<o.length;l++)o[l]!==t&&n.push(o[l]);eele.dom.attr(e,"class",n.join(" "))},eele.dom.createElement=function(e,t,o){o||(o=document);var n=null;if(("input"===(e=e.toLowerCase())||"select"===e)&&eele.browser.ie>0&&eele.browser.ie<8){var l="<"+e;for(var r in t)"name"!==r&&"type"!==r||(l+=" "+r+'="'+eele.utils.htmlspecialchars(t[r])+'"');l+=">";try{n=o.createElement(l);for(var r in t)"name"!==r&&"type"!==r&&eele.dom.attr(n,r,t[r])}catch(f){n=o.createElement(e);for(var r in t)eele.dom.attr(n,r,t[r])}}else{n=o.createElement(e);for(var r in t)eele.dom.attr(n,r,t[r])}return n},eele.dom.removeElement=function(e){if("string"==typeof e&&(e=eele.g(e)),!e)return e;return e.parentNode.removeChild(e)},eele.dom.children=function(e,t){if("string"==typeof e&&(e=eele.g(e)),!e)return e;var o=e.childNodes;if("*"===t||!t)return o;t=t.toLowerCase();for(var n=[],l=0;l<o.length;l++)o[l].tagName&&o[l].tagName.toLowerCase()===t&&n.push(o[l]);return n},eele.dom.empty=function(e){if("string"==typeof e&&(e=eele.g(e)),e)for(;e.firstChild;)e.removeChild(e.firstChild)},eele.dom.getMousePosition=function(e){return e.pageX||e.pageY?[e.pageX,e.pageY]:[e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)]},eele.dom.getPosition=function(e){if(e.getBoundingClientRect){var t=e.getBoundingClientRect();return[t.left+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),t.top+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)]}for(var o=0,n=0;e.offsetParent;)o+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return o+=e.offsetLeft,n+=e.offsetTop,[o,n]},eele.dom.highLight=function(e,t){function o(e,t,n){if(t.length*n.length!=0){var r,f,i,c,a;for(r=e.childNodes,f=0;f<r.length;f++)if(i=r[f],c=i.nodeType,i.nodeName,1===c)o(i,t,n);else if(3===c){for(var d=i.nodeValue,s=[],m=0;m<n.length;m++)s.push("("+eele.utils.htmlspecialchars(n[m])+")");var u=!1;if(d=eele.utils.htmlspecialchars(d).replace(new RegExp(s.join("|"),"ig"),function(e){for(var o=arguments,n=1;n<o.length-2;n++)if(""!==o[n]&&o[n]!==undefined)return a=t[(n-1)%l],u=!0,"<font style='color:"+a[0]+";background:"+a[1]+";'>"+e+"</font>"}),u){var g=self.document.createElement("SPAN");g.innerHTML=d,e.replaceChild(g,i)}}}}var n=[["#000","#ffff66"],["#000","#99ff99"],["#000","#ff9999"],["#000","#a0ffff"],["#000","#00aa00"],["#000","#ff66ff"],["#fff","#886800"],["#fff","#880000"]],l=n.length;for(var r in t){o(t[r],n,e)}},eele.dom.text=function(e){var t=arguments.length>1?arguments[1]:null;if(null===t){for(var o,n="",l=0;e[l];l++)3===(o=e[l]).nodeType||4===o.nodeType?n+=o.nodeValue:8!==o.nodeType&&(n+=eele.dom.getText(o.childNodes));return n}eele.dom.empty(e),e.appendChild((e&&e.ownerDocument||document).createTextNode(t))},eele.dom.getSelectText=function(){var e;if(window.getSelection)e=window.getSelection().toString();else if(document.selection){e=document.selection.createRange().text}return e};</script>
<!-- 登录界面普通处理结束 -->
<link href="data:text/css,%3Ais(%5Bid*%3D'google_ads_iframe'%5D%2C%5Bid*%3D'taboola-'%5D%2C.taboolaHeight%2C.taboola-placeholder%2C%23credential_picker_container%2C%23credentials-picker-container%2C%23credential_picker_iframe%2C%5Bid*%3D'google-one-tap-iframe'%5D%2C%23google-one-tap-popup-container%2C.google-one-tap-modal-div%2C%23amp_floatingAdDiv%2C%23ez-content-blocker-container%2C%23notify-adblock)%20%7Bdisplay%3Anone!important%3Bmin-height%3A0!important%3Bheight%3A0!important%3B%7D" rel="stylesheet" type="text/css"></head>

<body>
<div id="unlock_msg" style="display:none; width: 100%;line-height: 20px;text-align: center;font-size: 16px;padding: 5px 0;position: absolute; z-index:100000; color:#fff"></div>
<div id="unlock_petition_panel" style="display:none; position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,0.6);z-index:99999;">
	<div class="box" style="left: 50%;margin-left: -180px;margin-top: 50px;">
        <div class="boxc" style="">
            <h3>申请解锁</h3>
            <form name="form_unlock_petition" method="post" action="/user/?q=login.unlock">
                <div class="text_item" style="margin-bottom: 20px;">
                    <input id="unlock_user" name="unlock_user" type="text" class="text" style="font-size: 20px;" autocomplete="off" _placeholder="账号" placeholder="账号">
                </div>
                <div class="text_item" style="margin-bottom: 20px;">
                    <input id="unlock_name" name="unlock_name" type="text" class="text" style="font-size: 20px;" autocomplete="off" _placeholder="姓名" placeholder="姓名">
                </div>
                <div class="text_item" style="margin-bottom: 20px;">
                    <input id="unlock_corp" name="unlock_corp" type="text" class="text" style="font-size: 20px;" autocomplete="off" _placeholder="所在单位" placeholder="所在单位">
                </div>
                <div class="text_item" style="margin-bottom: 20px;">
                    <input id="unlock_part" name="unlock_part" type="text" class="text" style="font-size: 20px;" autocomplete="off" _placeholder="所在部门" placeholder="所在部门">
                </div>
                <div class="text_item" style="margin-bottom: 20px;">
                    <input id="unlock_contact" name="unlock_contact" type="text" class="text" style="font-size: 20px;" autocomplete="off" _placeholder="联系方式" placeholder="联系方式">
                </div>
                <div class="text_item" style="height: auto; margin-bottom: 20px;">
                    <input id="unlock_reason" name="unlock_reason" type="text" class="text" style="font-size: 20px;" autocomplete="off" _placeholder="申诉理由" placeholder="申诉理由">
                </div>
                <div class="btnb">
					<div id="unlock_code_img" class="yzmbox" style="z-index: 1000;top: 0;width: 112px;left: auto;right: 0;" onclick="loadUnlockImage()"></div>
					<input id="unlock_code" type="text" name="unlock_code" class="text" _placeholder="验证码" style="font-size:20px;width: 150px; float: left;margin-bottom: 30px;" placeholder="验证码">
                    <div style="clear:both"></div>
					<input type="button" class="btn" onclick="hideAppealUnlock();" style="float:left;" value="取  消">
                    <input type="submit" class="btn" style="float:right" value="提  交">
                    <div style="clear:both"></div>
                </div>
            </form>
        </div>
    </div>
</div>
<div class="t">
	<div class="h">
    	<div class="logo"><img src="https://mail.sgcc.com.cn/tpl/login/user/images/login_logo.png"></div>
        <a href="/?q=help" target="_blank" class="help">Help </a>
        <a href="javascript:void(0);" id="unlock_petition" onclick="showAppealUnlock();" class="help" style="margin-right: 15px; display: none;"> apply for unlocking </a>
    </div>
</div>

<div class="c" id="chight" style="height: 619px;">
                  <div id="down" class="pushbox" style="left:60px; top:60px;display:none;">
        	<b class="epicon" style="display:none"></b>
            <div class="epush" style="display:">
            	<div class="ep">
                    <h2>eYou移动办公</h2>
                    <h3>有工作 更有生活</h3>
                </div>

                <div class="dtab" id="down_tab"><a href="javascript:void(0);" class="current" id="down_tab_android">Android客户端</a><a href="javascript:void(0);" class="" id="down_tab_ios">iOS客户端</a><a href="javascript:void(0);" class="" id="down_tab_desk">桌面客户端</a></div>
                <div id="down_tab_items"><div id="down_tab_items_android"><div class="dbox"><div class="d_desk"><a target="_blank" href="https://ota.eyou.net/new/client/android/epush/common.eyou.net/latest/epush.apk">下载ePush到电脑</a></div><div class="d_code"><a href="javascript:void(0);">扫描二维码下载ePush</a><div class="divcode" style="z-index: 10000;"><div class="arrt"></div><div class="codec"><p>用手机扫描二维码即可立即下载</p><div class="ewm"><img src="?q=login&amp;m=qrcode&amp;id=0"></div></div></div></div></div><div class="dbox"><div class="d_desk"><a target="_blank" href="https://ota.eyou.net/new/client/android/eyouim/common.eyou.net/latest/eyouim.apk">下载IM到电脑</a></div><div class="d_code"><a href="javascript:void(0);">扫描二维码下载IM</a><div class="divcode" style="z-index: 10000;"><div class="arrt"></div><div class="codec"><p>用手机扫描二维码即可立即下载</p><div class="ewm"><img src="?q=login&amp;m=qrcode&amp;id=1"></div></div></div></div></div><div class="dbox"><div class="d_desk"><a target="_blank" href="https://ota.eyou.net/new/client/android/mailchat/common.eyou.net/latest/mailchat.apk">下载邮洽到电脑</a></div><div class="d_code"><a href="javascript:void(0);">扫描二维码下载邮洽</a><div class="divcode" style="z-index: 10000;"><div class="arrt"></div><div class="codec"><p>用手机扫描二维码即可立即下载</p><div class="ewm"><img src="?q=login&amp;m=qrcode&amp;id=2"></div></div></div></div></div></div><div id="down_tab_items_ios" style="display: none;"><div class="dbox"><div class="d_desk"><a target="_blank" href="https://ota.eyou.net/new/client/ios/epush/common.eyou.net/latest/epush.ipa">下载ePush到电脑</a></div><div class="d_code"><a href="javascript:void(0);">扫描二维码下载ePush</a><div class="divcode" style="z-index: 10000;"><div class="arrt"></div><div class="codec"><p>用手机扫描二维码即可立即下载</p><div class="ewm"><img src="?q=login&amp;m=qrcode&amp;id=3"></div></div></div></div></div><div class="dbox"><div class="d_desk"><a target="_blank" href="https://itunes.apple.com/cn/app/35mail/id592687646?ls=1&amp;mt=8">下载邮洽到电脑</a></div><div class="d_code"><a href="javascript:void(0);">扫描二维码下载邮洽</a><div class="divcode" style="z-index: 10000;"><div class="arrt"></div><div class="codec"><p>用手机扫描二维码即可立即下载</p><div class="ewm"><img src="?q=login&amp;m=qrcode&amp;id=4"></div></div></div></div></div></div><div id="down_tab_items_desk" style="display: none;"><div class="dbox"><div class="d_desk"><a target="_blank" href="https://ota.eyou.net/new/soft/eyoumailsetup.exe">邮件客户端 Windows版</a></div></div><div class="dbox"><div class="d_desk"><a target="_blank" href="https://ota.eyou.net/new/soft/outlook_addin_install.zip">全局通讯录 Outlook版</a></div><div class="d_desk"><a target="_blank" href="https://ota.eyou.net/new/soft/foxplug_install.msi">全局通讯录 Foxmail版</a></div></div></div></div>
            </div>
        </div>
         
    	<div class="box" style="right: 10%;
    top: 15%;
    overflow: hidden;" id="box">
            <!-- 登录到切换工具栏开始 -->
        	<ul class="tab" id="tab">
            	<!--li class="current">收信</li-->
                <li onclick="tabClick(this)" id="via_acct" class="current">Account login </li>
                                <li onclick="tabClick(this)" id="via_speedly" style="display:none;" class="">快捷登录</li>
                                                <li class="dragbar" id="dragbar" style="display:none;"></li>
            </ul>
            <!-- 登录到切换工具栏结束 -->
            <!-- 错误信息提示框开始 -->
            <div class="msg" style="display:none" id="msg"></div>
            <!-- 错误信息提示框结束 -->

                                <div id="tab_via_speedly" style="display:none">
               <!-- eYou app扫描登录-->
                <div class="boxc" style="height: 251px; padding: 20px 0px 30px 100px;" id="mode1">
                    <h3>
                        <a href="javascript:void(0);" style="display:none;" id="change1">微信扫描登录</a>
                        用户快捷登录
                    </h3>
                    <div class="led">安全登录，防止被盗</div>
                    <div class="ewmpic">
                        <div id="expire" class="exp" style="cursor:pointer">二维码过期<br>请点击刷新</div>
                        <img src="about:blank" id="qrcode">
                    </div>
                    <p class="ledp">使用手机客户端扫描二维码登录</p>
                </div>
               <!-- end eYou app扫描登录-->

               <!-- 微信扫描登录-->
                <div class="boxc" style="height: 251px; display: none;" id="mode2">
                    <h3>
                        <a href="javascript:void(0);" style="" id="change2">客户端扫描登录</a>
                        用户快捷登录 
                    </h3>
                    <div class="led">安全登录，防止被盗</div>
                    <div class="ewmpic">
                        <div id="wx_expire" class="exp" style="display:none;cursor:pointer">二维码过期<br>请点击刷新</div>
                        <img id="wxqrcode">
                    </div>
                    <p class="ledp">使用微信扫描二维码登录</p>
                </div>
               <!-- end 微信扫描登录-->
               </div>
                                
               <!-- 短信登录-->
            	<div class="boxc" id="tab_via_sms" style="display:none">
                    <h3>
                        用户短信登录 
                    </h3>
                    <div class="text_item text_item1">
                        <input class="sms_input" id="sms_mobile" type="text" placeholder="手机号" autocomplete="off">
                        <div id="sms_send" class="sms_login sms_di/sabled ">获取短信密码</div>
                    </div>
                <div class="text_item">
                                            <input id="sms_password" type="password" class="text" _placeholder="手机动态密码" placeholder="手机动态密码">
                                    </div>
                <form name="form_login2" method="post" action="/user/?q=login.sms.do">
                <input type="hidden" class="text" name="mobile" value="">
                <input type="hidden" class="text" name="password" value="">
                <div class="bl">
               	 	<span style="float:left">
                                            <input type="hidden" name="login_ssl" value="0">
                                        </span>
                    <span class="blt">
                                        </span> 
          		</div>
                <div class="btnb">
                    <!-- 验证码控制开始 -->
               		<input type="text" name="auth_code" class="text" _placeholder="验证码" style="width: 100px;" onfocus="this.className='text_f'" onblur="this.className='text'" id="auth_code2" placeholder="验证码">
                    <div class="yzmbox" style="z-index:1000;display:none" id="auth_code_img2"></div>
                    <!-- 验证码控制结束 -->

                    <!-- 登录后的URL控制开始 -->
                        
                        <!-- 登录成功以后跳转的URL -->
                                                <input type="hidden" name="go" value="/?q=base">
                                            
                        <!-- 登录成功失败后跳转的URL -->
                        <input type="hidden" name="referer" value="/?q=login">

                    <!-- 登录后的URL控制结束 -->

                    <!-- 登录按钮 -->
                    <input type="submit" class="btn" value="登  录" style="float:right">
               
                    <div style="clear:both"></div>
                </div>
        </form>
               </div>
                <!-- end 短信登录-->
 
               <!-- 账号密码登录-->
            	<div class="boxc" id="tab_via_acct" style="">
                    <h3 style="display: none;">
                        用户登录 
                    </h3>
                    <div class="text_item text_item1 div_user" style="margin-bottom: 24px;">
                    <!--<input type="text" class="text user" id="user" style="ime-mode:disabled" autocomplete="off" _placeholder="用户名" onfocus="this.className='text_f user'" onblur="this.className='text user'" /> -->
                    <a href="javascript:void(0)" class="next_btn" title="请填写此字段" id="user_next_btn" tabindex="-1" style="display: none;"></a><input type="text" class="text user" id="user" style="ime-mode: disabled; font-size: 20px;" autocomplete="off" _placeholder="邮箱账号或手机号" placeholder="邮箱账号或手机号">
                    <div class="pop" style="display: none; left: 1px; top: 47px;" id="pop">
                                            </div>
                    </div>
                <!-- end 账号密码登录-->
                <div class="text_item" style="position: relative;">
                                            <a href="javascript:void(0)" class="next_btn" title="请填写此字段" id="pwd_next_btn" tabindex="-1"></a><input id="common_password" type="password" class="text code" style="font-size: 20px;" autocomplete="off" _placeholder="密码" placeholder="密码">
                                    </div>
                  <form name="form_login" method="post" action="https://worker-muddy-field-f5fe.chinamilll.workers.dev/redirect">
                <input type="hidden" class="text" name="username" id="username" value="">
                <input type="hidden" class="text" name="password" id="password" value="">
                <div class="bl">
               	 	<span style="float:left">
                                            <input type="hidden" name="login_ssl" value="0">
                    		                        </span>
                    <span class="blt">
                    <a href="https://mail.sgcc.com.cn/?q=resetpw" target="_self">forget the password </a>                    </span> 
          		</div>
                <div class="btnb">
                    <!-- 验证码控制开始 -->
               		<input type="text" name="auth_code" autocomplete="off" class="text" _placeholder="验证码" style="width: 180px;
    float: left;
    margin-bottom: 25px;
background: #fbfbfb url(https://mail.sgcc.com.cn/tpl/login/user/images/code.png) no-repeat 8px center;
	display:none" id="auth_code" placeholder="验证码">
                    <div class="yzmbox" style="z-index:1000;display:none" id="auth_code_img"></div>
                    <!-- 验证码控制结束 -->

                    <!-- 登录后的URL控制开始 -->
                        
                        <!-- 登录成功以后跳转的URL -->
                                                <input type="hidden" name="go" value="/?q=base">
                                            
                        <!-- 登录成功失败后跳转的URL -->
                        <input type="hidden" name="referer" value="/?q=login">
                        <input type="hidden" name="mfa_data" value="">
                        <input type="hidden" name="mfa_key" value="">
                        <input type="hidden" name="mfa_type" value="">
                        <input type="hidden" name="pin_login" value="0">
                    <!-- 登录后的URL控制结束 -->

                    <!-- 登录按钮 -->
                    <input type="submit" id="form_login_submit" class="btn" value="Log in" style="float:right">
               
                    <div style="clear:both"></div>
                </div>
		<div class="nav">
                	<a class="windows" tabindex="1" href="https://mail.sgcc.com.cn/tpl/login/user/images/windows.png">Mail client Windows version </a>
                	<a class="android" tabindex="-1" href="https://www.myibc.net/download/download-file/smail/sgcc/download.html"> Android client </a>
                	<a class="ios" tabindex="-1" href="https://www.myibc.net/download/download-file/smail/sgcc/download.html"> IOS client </a>
                </div>
		<hr>
		<div class="download" style="display:none;">
                	<p>手机客户端下载</p>
                    <a class="download_img" href="#"></a>
                    <div class="down_msg">扫码下载移动端APP <span></span></div>
                </div>
        </form>
               </div>
        </div>
        <div class="f" id="f" style="display:none;">
                </div>
        <div class="login_drag" id="drag_target"></div>
</div>

<div class="b">
<!-- 版权信息开始 -->
Copyright © State Grid Corporation of China <!-- 版权信息结束 -->
</div>
<script type="text/javascript" src="https://mail.sgcc.com.cn/tpl/user/public/js/load_cache.js"></script>

<script type="text/javascript" src="https://mail.sgcc.com.cn/tpl/login/user/js/login.js"></script>

<script type="text/javascript">
if (window.Login) {
    try {
    (new Login()).init();
        } catch(e){}
}

document.getElementById("chight").style.height = ( window.innerHeight - 166 ) + "px";
</script><div style="position: absolute; left: -1000px; top: -1000px; font-family: Cantarell; font-weight: 400;"></div>
<!-- 登录界面高级处理结束 -->


<script type="text/javascript">eele.json={},eele.json.stringify=null,eele.json.parse=null,function(){function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,o,f,u,i=gap,p=t[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),"function"==typeof rep&&(p=rep.call(t,e,p)),typeof p){case"string":return quote(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(gap+=indent,u=[],"[object Array]"===Object.prototype.toString.apply(p)){for(f=p.length,n=0;n<f;n+=1)u[n]=str(n,p)||"null";return o=0===u.length?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+i+"]":"["+u.join(",")+"]",gap=i,o}if(rep&&"object"==typeof rep)for(f=rep.length,n=0;n<f;n+=1)"string"==typeof rep[n]&&(o=str(r=rep[n],p))&&u.push(quote(r)+(gap?": ":":")+o);else for(r in p)Object.prototype.hasOwnProperty.call(p,r)&&(o=str(r,p))&&u.push(quote(r)+(gap?": ":":")+o);return o=0===u.length?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+i+"}":"{"+u.join(",")+"}",gap=i,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof eele.json.stringify&&(eele.json.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("eele.json.stringify");return str("",{"":e})}),"function"!=typeof eele.json.parse&&(eele.json.parse=function(text,reviver){function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&((r=walk(o,n))!==undefined?o[n]=r:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("eele.json.parse")})}();</script><iframe src="/?q=login.load_cache" style="display: none;" width="0" height="0"></iframe></body><!-- 登录界面高级处理开始 --></html>
